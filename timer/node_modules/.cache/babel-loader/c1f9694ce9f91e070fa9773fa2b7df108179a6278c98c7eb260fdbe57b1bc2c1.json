{"ast":null,"code":"import{useState,useEffect}from\"react\";//import { useNavigate } from \"react-router-dom\";\n//const XY = () => null;\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const XY=_ref=>{let{duration,init,rehearsal}=_ref;//const navigate = useNavigate();\n// valeur à faire passer dans le component\nconst valInitial=init;const valFinal=duration;const valRepeat=rehearsal;const[repeat,setRepeat]=useState(valRepeat);// pour le repeat\nconst[seconds,setSeconds]=useState(valInitial);const[isActive,setIsActive]=useState(false);// btn play/pause\nconst[isFinish,setIsFinish]=useState(false);// quand on arrive à la fin\nfunction toggle(){setIsActive(!isActive);}function reset(){setSeconds(valInitial);setIsActive(false);setIsFinish(false);setRepeat(valRepeat);// pour le repeat: au reset réinitialiser les valeurs\n}function forward(){setSeconds(valFinal);setIsFinish(true);setRepeat(0);// pour le repeat: au reset réinitialiser les valeurs\n}useEffect(()=>{let interval=null;if(repeat>0){// --------------\nif(isActive&&seconds!==valFinal){interval=setInterval(()=>{setSeconds(seconds=>seconds-1);// + -\nconsole.log(\"seconds\",seconds,\"valFinal\",valFinal);if(seconds===valFinal+1){console.log(\"round terminé\");console.log(\"seconds\",seconds,\"valFinal\",valFinal);setSeconds(seconds=>valInitial);// on recommence\nsetRepeat(repeat=>repeat-1);// decrement n° of repeat\n}},1000);}else if(!isActive&&seconds!==valInitial){clearInterval(interval);}return()=>clearInterval(interval);}else{console.log(\"timer + n° de fois TERMINÉ!\");setIsFinish(true);// quand on arrive à la fin, les btn doivent disparaitre\nsetRepeat(0);setSeconds(0);}},[isActive,seconds,repeat,valFinal,valInitial]);return/*#__PURE__*/_jsxs(\"div\",{className:\"counter-content\",id:\"#xy\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"XY\"}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"You have requested a counter from (\",valInitial,\" to \",valFinal,\") *\",\" \",valRepeat,\" times\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"counterBoxContentXY\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"counterBoxXY\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"timerTitle\",children:\"Timer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"timerDisplaySecond\",children:seconds}),/*#__PURE__*/_jsxs(\"div\",{className:\"timerSecond\",children:[seconds,\"/\",valInitial]}),/*#__PURE__*/_jsx(\"div\",{className:\"timerSecond\",children:\"seconds\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"counterBoxXY\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"timerTitle\",children:\"Repeat\"}),/*#__PURE__*/_jsx(\"div\",{className:\"timerDisplaySecond\",children:repeat}),/*#__PURE__*/_jsxs(\"div\",{className:\"timerSecond\",children:[repeat,\"/\",valRepeat]}),/*#__PURE__*/_jsx(\"div\",{className:\"timerSecond\",children:\"Times\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonContent\",children:[!isFinish&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"button button-primary button-primary-\".concat(isActive?\"active\":\"inactive\"),onClick:toggle,children:isActive?\"Pause\":\"Start\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:forward,children:\"Forward\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:reset,children:\"Reset\"})]})]});};export default XY;","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","XY","_ref","duration","init","rehearsal","valInitial","valFinal","valRepeat","repeat","setRepeat","seconds","setSeconds","isActive","setIsActive","isFinish","setIsFinish","toggle","reset","forward","interval","setInterval","console","log","clearInterval","className","id","children","concat","onClick"],"sources":["/Users/peggy/Documents/GitHub/assignment-2-PegVal-new/timer/src/components/timers/XY.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n//import { useNavigate } from \"react-router-dom\";\n\n//const XY = () => null;\n\nconst XY = ({ duration, init, rehearsal }) => {\n  //const navigate = useNavigate();\n  // valeur à faire passer dans le component\n  const valInitial = init;\n  const valFinal = duration;\n  const valRepeat = rehearsal;\n\n  const [repeat, setRepeat] = useState(valRepeat); // pour le repeat\n  const [seconds, setSeconds] = useState(valInitial);\n  const [isActive, setIsActive] = useState(false); // btn play/pause\n  const [isFinish, setIsFinish] = useState(false); // quand on arrive à la fin\n\n  function toggle() {\n    setIsActive(!isActive);\n  }\n\n  function reset() {\n    setSeconds(valInitial);\n    setIsActive(false);\n    setIsFinish(false);\n    setRepeat(valRepeat); // pour le repeat: au reset réinitialiser les valeurs\n  }\n\n  function forward() {\n    setSeconds(valFinal);\n    setIsFinish(true);\n    setRepeat(0); // pour le repeat: au reset réinitialiser les valeurs\n  }\n\n  useEffect(() => {\n    let interval = null;\n\n    if (repeat > 0) {\n      // --------------\n      if (isActive && seconds !== valFinal) {\n        interval = setInterval(() => {\n          setSeconds((seconds) => seconds - 1); // + -\n          console.log(\"seconds\", seconds, \"valFinal\", valFinal);\n\n          if (seconds === valFinal + 1) {\n            console.log(\"round terminé\");\n            console.log(\"seconds\", seconds, \"valFinal\", valFinal);\n            setSeconds((seconds) => valInitial); // on recommence\n            setRepeat((repeat) => repeat - 1); // decrement n° of repeat\n          }\n        }, 1000);\n      } else if (!isActive && seconds !== valInitial) {\n        clearInterval(interval);\n      }\n      return () => clearInterval(interval);\n    } else {\n      console.log(\"timer + n° de fois TERMINÉ!\");\n      setIsFinish(true); // quand on arrive à la fin, les btn doivent disparaitre\n      setRepeat(0);\n      setSeconds(0);\n    }\n  }, [isActive, seconds, repeat, valFinal, valInitial]);\n\n  return (\n    <div className=\"counter-content\" id=\"#xy\">\n      <h2>XY</h2>\n      <h4>\n        You have requested a counter from ({valInitial} to {valFinal}) *{\" \"}\n        {valRepeat} times\n      </h4>\n\n      <div className=\"counterBoxContentXY\">\n        <div className=\"counterBoxXY\">\n          <div className=\"timerTitle\">Timer</div>\n          <div className=\"timerDisplaySecond\">{seconds}</div>\n          <div className=\"timerSecond\">\n            {seconds}/{valInitial}\n          </div>\n          <div className=\"timerSecond\">seconds</div>\n        </div>\n        <div className=\"counterBoxXY\">\n          <div className=\"timerTitle\">Repeat</div>\n          <div className=\"timerDisplaySecond\">{repeat}</div>\n          <div className=\"timerSecond\">\n            {repeat}/{valRepeat}\n          </div>\n          <div className=\"timerSecond\">Times</div>\n        </div>\n      </div>\n\n      <div className=\"buttonContent\">\n        {!isFinish && (\n          <>\n            <button\n              className={`button button-primary button-primary-${\n                isActive ? \"active\" : \"inactive\"\n              }`}\n              onClick={toggle}\n            >\n              {isActive ? \"Pause\" : \"Start\"}\n            </button>\n\n            <button className=\"button\" onClick={forward}>\n              Forward\n            </button>\n          </>\n        )}\n        <button className=\"button\" onClick={reset}>\n          Reset\n        </button>\n      </div>\n      {/*  to do: when using route: no input form at the beginning but only in component\n      <button\n        className=\"button\"\n        onClick={() => {\n          navigate(-1);\n        }}\n      >\n        Back\n      </button> */}\n    </div>\n  );\n};\n\nexport default XY;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}