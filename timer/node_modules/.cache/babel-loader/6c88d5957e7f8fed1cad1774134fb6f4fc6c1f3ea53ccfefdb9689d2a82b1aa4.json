{"ast":null,"code":"import{useState,useEffect}from\"react\";//const Stopwatch = () => null;\n// ----------------------------- StopWatch -------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Stopwatch=_ref=>{let{duration,init}=_ref;const valInitial=init;const valFinal=duration;const[seconds,setSeconds]=useState(valInitial);const[isActive,setIsActive]=useState(false);// btn play/pause\nconst[isFinish,setIsFinish]=useState(false);// quand on arrive à la fin\nfunction toggle(){setIsActive(!isActive);}function reset(){setSeconds(valInitial);setIsActive(false);setIsFinish(false);}function forward(){setSeconds(valFinal);setIsFinish(true);}useEffect(()=>{let interval=null;if(isActive&&seconds!==valFinal){interval=setInterval(()=>{setSeconds(seconds=>seconds+1);console.log(seconds);if(seconds===valFinal-1){console.log(\"terminé\");setIsFinish(true);// quand on arrive à la fin, les btn doivent disparaitre\n}},1000);}else if(!isActive&&seconds!==valInitial){clearInterval(interval);}return()=>clearInterval(interval);},[isActive,seconds,valFinal,valInitial]);return/*#__PURE__*/_jsxs(\"div\",{className:\"counter-content\",id:\"#stopwatch\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"StopWatch\"}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"You have requested a counter from (\",valInitial,\" to \",valFinal,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"counterBoxContentCount\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"counterBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"timerTitle\",children:\"Timer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"timerDisplaySecond\",children:seconds}),/*#__PURE__*/_jsxs(\"div\",{className:\"timerSecond\",children:[seconds,\"/\",valFinal]}),/*#__PURE__*/_jsx(\"div\",{className:\"timerSecond\",children:\"seconds\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonContentCount\",children:[!isFinish&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"button button-primary button-primary-\".concat(isActive?\"active\":\"inactive\"),onClick:toggle,children:isActive?\"Pause\":\"Start\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:forward,children:\"Forward\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:reset,children:\"Reset\"})]})]})]});};export default Stopwatch;","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Stopwatch","_ref","duration","init","valInitial","valFinal","seconds","setSeconds","isActive","setIsActive","isFinish","setIsFinish","toggle","reset","forward","interval","setInterval","console","log","clearInterval","className","id","children","concat","onClick"],"sources":["/Users/peggy/Documents/GitHub/assignment-2-PegVal-new/timer/src/components/timers/Stopwatch.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\n//const Stopwatch = () => null;\n\n// ----------------------------- StopWatch -------------------------------------\nconst Stopwatch = ({ duration, init }) => {\n  const valInitial = init;\n  const valFinal = duration;\n\n  const [seconds, setSeconds] = useState(valInitial);\n  const [isActive, setIsActive] = useState(false); // btn play/pause\n  const [isFinish, setIsFinish] = useState(false); // quand on arrive à la fin\n\n  function toggle() {\n    setIsActive(!isActive);\n  }\n\n  function reset() {\n    setSeconds(valInitial);\n    setIsActive(false);\n    setIsFinish(false);\n  }\n\n  function forward() {\n    setSeconds(valFinal);\n    setIsFinish(true);\n  }\n\n  useEffect(() => {\n    let interval = null;\n    if (isActive && seconds !== valFinal) {\n      interval = setInterval(() => {\n        setSeconds((seconds) => seconds + 1);\n        console.log(seconds);\n        if (seconds === valFinal - 1) {\n          console.log(\"terminé\");\n          setIsFinish(true); // quand on arrive à la fin, les btn doivent disparaitre\n        }\n      }, 1000);\n    } else if (!isActive && seconds !== valInitial) {\n      clearInterval(interval);\n    }\n    return () => clearInterval(interval);\n  }, [isActive, seconds, valFinal, valInitial]);\n\n  return (\n    <div className=\"counter-content\" id=\"#stopwatch\">\n      <h2>StopWatch</h2>\n      <h4>\n        You have requested a counter from ({valInitial} to {valFinal})\n      </h4>\n      <div className=\"counterBoxContentCount\">\n        <div className=\"counterBox\">\n          <div className=\"timerTitle\">Timer</div>\n          <div className=\"timerDisplaySecond\">{seconds}</div>\n          <div className=\"timerSecond\">\n            {seconds}/{valFinal}\n          </div>\n          <div className=\"timerSecond\">seconds</div>\n        </div>\n\n        <div className=\"buttonContentCount\">\n          {!isFinish && (\n            <>\n              <button\n                className={`button button-primary button-primary-${\n                  isActive ? \"active\" : \"inactive\"\n                }`}\n                onClick={toggle}\n              >\n                {isActive ? \"Pause\" : \"Start\"}\n              </button>\n\n              <button className=\"button\" onClick={forward}>\n                Forward\n              </button>\n            </>\n          )}\n          <button className=\"button\" onClick={reset}>\n            Reset\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Stopwatch;\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE3C;AAEA;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBACA,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAwB,IAAvB,CAAEC,QAAQ,CAAEC,IAAK,CAAC,CAAAF,IAAA,CACnC,KAAM,CAAAG,UAAU,CAAGD,IAAI,CACvB,KAAM,CAAAE,QAAQ,CAAGH,QAAQ,CAEzB,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAACY,UAAU,CAAC,CAClD,KAAM,CAACI,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAAE;AACjD,KAAM,CAACkB,QAAQ,CAAEC,WAAW,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAAE;AAEjD,QAAS,CAAAoB,MAAMA,CAAA,CAAG,CAChBH,WAAW,CAAC,CAACD,QAAQ,CAAC,CACxB,CAEA,QAAS,CAAAK,KAAKA,CAAA,CAAG,CACfN,UAAU,CAACH,UAAU,CAAC,CACtBK,WAAW,CAAC,KAAK,CAAC,CAClBE,WAAW,CAAC,KAAK,CAAC,CACpB,CAEA,QAAS,CAAAG,OAAOA,CAAA,CAAG,CACjBP,UAAU,CAACF,QAAQ,CAAC,CACpBM,WAAW,CAAC,IAAI,CAAC,CACnB,CAEAlB,SAAS,CAAC,IAAM,CACd,GAAI,CAAAsB,QAAQ,CAAG,IAAI,CACnB,GAAIP,QAAQ,EAAIF,OAAO,GAAKD,QAAQ,CAAE,CACpCU,QAAQ,CAAGC,WAAW,CAAC,IAAM,CAC3BT,UAAU,CAAED,OAAO,EAAKA,OAAO,CAAG,CAAC,CAAC,CACpCW,OAAO,CAACC,GAAG,CAACZ,OAAO,CAAC,CACpB,GAAIA,OAAO,GAAKD,QAAQ,CAAG,CAAC,CAAE,CAC5BY,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC,CACtBP,WAAW,CAAC,IAAI,CAAC,CAAE;AACrB,CACF,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,IAAM,IAAI,CAACH,QAAQ,EAAIF,OAAO,GAAKF,UAAU,CAAE,CAC9Ce,aAAa,CAACJ,QAAQ,CAAC,CACzB,CACA,MAAO,IAAMI,aAAa,CAACJ,QAAQ,CAAC,CACtC,CAAC,CAAE,CAACP,QAAQ,CAAEF,OAAO,CAAED,QAAQ,CAAED,UAAU,CAAC,CAAC,CAE7C,mBACEP,KAAA,QAAKuB,SAAS,CAAC,iBAAiB,CAACC,EAAE,CAAC,YAAY,CAAAC,QAAA,eAC9C3B,IAAA,OAAA2B,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBzB,KAAA,OAAAyB,QAAA,EAAI,qCACiC,CAAClB,UAAU,CAAC,MAAI,CAACC,QAAQ,CAAC,GAC/D,EAAI,CAAC,cACLR,KAAA,QAAKuB,SAAS,CAAC,wBAAwB,CAAAE,QAAA,eACrCzB,KAAA,QAAKuB,SAAS,CAAC,YAAY,CAAAE,QAAA,eACzB3B,IAAA,QAAKyB,SAAS,CAAC,YAAY,CAAAE,QAAA,CAAC,OAAK,CAAK,CAAC,cACvC3B,IAAA,QAAKyB,SAAS,CAAC,oBAAoB,CAAAE,QAAA,CAAEhB,OAAO,CAAM,CAAC,cACnDT,KAAA,QAAKuB,SAAS,CAAC,aAAa,CAAAE,QAAA,EACzBhB,OAAO,CAAC,GAAC,CAACD,QAAQ,EAChB,CAAC,cACNV,IAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAE,QAAA,CAAC,SAAO,CAAK,CAAC,EACvC,CAAC,cAENzB,KAAA,QAAKuB,SAAS,CAAC,oBAAoB,CAAAE,QAAA,EAChC,CAACZ,QAAQ,eACRb,KAAA,CAAAE,SAAA,EAAAuB,QAAA,eACE3B,IAAA,WACEyB,SAAS,yCAAAG,MAAA,CACPf,QAAQ,CAAG,QAAQ,CAAG,UAAU,CAC/B,CACHgB,OAAO,CAAEZ,MAAO,CAAAU,QAAA,CAEfd,QAAQ,CAAG,OAAO,CAAG,OAAO,CACvB,CAAC,cAETb,IAAA,WAAQyB,SAAS,CAAC,QAAQ,CAACI,OAAO,CAAEV,OAAQ,CAAAQ,QAAA,CAAC,SAE7C,CAAQ,CAAC,EACT,CACH,cACD3B,IAAA,WAAQyB,SAAS,CAAC,QAAQ,CAACI,OAAO,CAAEX,KAAM,CAAAS,QAAA,CAAC,OAE3C,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}